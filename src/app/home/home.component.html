<!-- Section de recherche -->
<nav class="navbar navbar-expand-lg">
  <div class="container d-flex justify-content-between align-items-center">
    <!-- Logo -->
    <a routerLink="/home" class="navbar-brand d-flex align-items-center">
      <span class="logo-text"><span class="text-success">Ghofy</span></span>
    </a>

    <!-- Add Product Button (centré et réduit) -->
    <div class="d-flex align-items-center gap-3">
      <div *ngIf="userService.isLoggedIn; else notLoggedIn">
        <!-- Show Publish Product button if user is logged in -->
        <button (click)="redirectToPublishProduct()"> 
          <i class="bi bi-plus-circle me-2"></i>Publish Product</button>
      </div>
      <ng-template #notLoggedIn>
        <!-- Show a message or redirect to login/verification page if not logged in -->
        <button (click)="redirectToLogin()">Log in to Publish Product</button>
      </ng-template>
    </div>
    <!-- Right Side Items -->
    <div class="d-flex align-items-center gap-3">
      <!-- Search Bar -->
      <div class="search-bar d-flex align-items-center">
        <input
          type="text"
          class="form-control"
          placeholder="Search..."
          aria-label="Search"
        />
        <button class="btn btn-outline-success ms-2" type="button">
          <i class="bi bi-search"></i>
        </button>
      </div>

      <!-- Help Button -->
      <button class="btn btn-help" type="button" (click)="toggleChatbot()">
        <i class="bi bi-question-circle me-1"></i>
        Aide
      </button>

      <!-- Profile Icon -->
      <div class="profile-icon">
        <a (click)="onProfileIconClick()">
          <i class="bi bi-person-circle fs-4"></i>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Chatbot Component -->
<app-chatbot #chatbot></app-chatbot>

<!-- Image Slider -->
<div class="slider-container">
  <div id="imageSlider" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
    <!-- Slides -->
    <div class="carousel-inner">
      <!-- Slide 1 -->
      <div class="carousel-item active">
        <img src="/3.jpg" class="d-block w-100" alt="Plant 1">
       
      </div>

      <!-- Slide 2 -->
      <div class="carousel-item">
        <img src="/2.jpg" class="d-block w-100" alt="Plant 2">
       
      </div>

      <!-- Slide 3 -->
      <div class="carousel-item">
        <img src="/1.jpg" class="d-block w-100" alt="Plant 3">
        
      </div>

      <!-- Slide 4 -->
      <div class="carousel-item">
        <img src="/4.jpg" class="d-block w-100" alt="Plant 4">
        
      </div>

      <!-- Slide 5 -->
      <div class="carousel-item">
        <img src="/5.jpg" class="d-block w-100" alt="Plant 5">
        
      </div>
      <div class="carousel-item">
        <img src="/6.jpg" class="d-block w-100" alt="Plant 5">
        
      </div>
      <div class="carousel-item">
        <img src="/7.jpg" class="d-block w-100" alt="Plant 5">
        
      </div>
      <div class="carousel-item">
        <img src="/8.jpg" class="d-block w-100" alt="Plant 5">
        
      </div>
     
      <div class="carousel-item">
        <img src="/10.jpg" class="d-block w-100" alt="Plant 5">
        
      </div>
    </div>
  </div>
</div>
<!-- Le conteneur principal du contenu -->
<div class="container-main">
  <!-- Les autres parties de la page -->
  
  <!-- Produits populaires -->
  <div class="bg-white">
    <div class="mx-auto max-w-7xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
      <h2 class="text-2xl font-bold tracking-tight text-gray-900">Products</h2>
      <div class="home-container">
        <h2>Produits disponibles</h2>
        <div class="products-grid">
          <div class="product-card" *ngFor="let product of products$ | async" 
               (click)="onProductClick(product.id)">
            <img *ngIf="product.images && product.images[0]?.url" 
                 [src]="product.images[0].url" 
                 [alt]="product.name" 
                 class="product-image" />
            <div class="product-info">
              <h3>{{ product.name }}</h3>
              <p class="description">{{ product.description }}</p>
              <p class="price">{{ product.price }} €</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<app-footer></app-footer>
